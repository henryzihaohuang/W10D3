{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./frontend/minesweeper.js","webpack:///./frontend/react_minesweeper.jsx"],"names":["Tile","board","pos","bombed","explored","flagged","bombCount","neighbors","forEach","neighbor","adjacentBombCount","tile","explore","adjacentCoords","DELTAS","delta","newPos","onBoard","push","map","coord","grid","Board","gridSize","numBombs","generateBoard","plantBombs","i","j","totalPlantedBombs","row","Math","floor","random","col","plantBomb","lost","won","revealed"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./frontend/react_minesweeper.jsx\");\n","export class Tile {\n  constructor(board, pos) {\n      this.board = board;\n      this.pos = pos;\n      this.bombed = false;\n      this.explored = false;\n      this.flagged = false;\n  }\n\n  adjacentBombCount() {\n    let bombCount = 0;\n    this.neighbors().forEach(neighbor => {\n      if (neighbor.bombed) {\n        bombCount++;\n      }\n    });\n    return bombCount;\n  }\n\n  explore() {\n    if (this.flagged || this.explored) {\n      return this;\n    }\n\n    this.explored = true;\n    if (!this.bombed && this.adjacentBombCount() === 0) {\n      this.neighbors().forEach(tile => {\n        tile.explore();\n      });\n    }\n\n  }\n\n  neighbors() {\n    const adjacentCoords = [];\n    Tile.DELTAS.forEach(delta => {\n      const newPos = [delta[0] + this.pos[0], delta[1] + this.pos[1]];\n      if (this.board.onBoard(newPos)) {\n        adjacentCoords.push(newPos);\n      }\n    });\n\n    return adjacentCoords.map(coord => this.board.grid[coord[0]][coord[1]]);\n  }\n\n  plantBomb() {\n    this.bombed = true;\n  }\n\n  toggleFlag() {\n    if (!this.explored) {\n      this.flagged = !this.flagged;\n      return true;\n    }\n\n    return false;\n  }\n}\n\nTile.DELTAS = [[-1, -1], [-1,  0], [-1,  1], [ 0, -1],\n             [ 0,  1], [ 1, -1], [ 1,  0], [ 1,  1]];\n\nexport class Board {\n  constructor(gridSize, numBombs) {\n    this.gridSize = gridSize;\n    this.grid = [];\n    this.numBombs = numBombs;\n    this.generateBoard();\n    this.plantBombs();\n  }\n\n  generateBoard() {\n    for (let i = 0; i < this.gridSize; i++) {\n      this.grid.push([]);\n      for (let j = 0; j < this.gridSize; j++) {\n        const tile = new Tile(this, [i, j]);\n        this.grid[i].push(tile);\n      }\n    }\n  }\n\n  onBoard(pos) {\n    return (\n      pos[0] >= 0 && pos[0] < this.gridSize &&\n        pos[1] >= 0 && pos[1] < this.gridSize\n    );\n  }\n\n  plantBombs() {\n    let totalPlantedBombs = 0;\n    while (totalPlantedBombs < this.numBombs) {\n      const row = Math.floor(Math.random() * (this.gridSize - 1));\n      const col = Math.floor(Math.random() * (this.gridSize - 1));\n\n      let tile = this.grid[row][col];\n      if (!tile.bombed) {\n        tile.plantBomb();\n        totalPlantedBombs++;\n      }\n    }\n  }\n\n  lost() {\n    let lost = false;\n    this.grid.forEach(row => {\n      row.forEach(tile => {\n        if (tile.bombed && tile.explored) {\n          lost = true;\n        }\n      });\n    });\n    return lost;\n  }\n\n  won() {\n    let won = true;\n    this.grid.forEach(row => {\n      row.forEach(tile => {\n        if (tile.flagged === tile.revealed || tile.flagged !== tile.bombed) {\n          won = false;\n        }\n      });\n    });\n    return won;\n  }\n}\n","import * as Minesweeper from \"./minesweeper\";"],"sourceRoot":""}